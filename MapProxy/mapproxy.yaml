services:
  demo:
  tms:
    use_grid_names: true
    # origin for /tiles service
    origin: 'nw'
  kml:
      use_grid_names: true
  wmts:
  wms:
    srs: ['EPSG:3338']
    md:
      title: MapProxy WMS Proxy
      abstract: This is a minimal MapProxy example.

layers:
  - name: osm
    title: Omniscale OSM WMS - osm.omniscale.net
    sources: [osm_cache]
  - name: AFS_IBAND_VIIRS_24
    title: AFS IBAND VIIRS 24 Hour
    sources: [viirs_wms]
  - name: alaska_osm
    title: OSM WMS for alaska
    sources: [alaska_osm_cache]

caches:
  osm_cache:
    grids: [webmercator]
    sources: [osm_tms]
  alaska_osm_cache:
    grids: [epsg3338]
    sources: [alaska_osm_mapnik]

sources:
  viirs_wms:
    type: wms
    supported_srs: ['EPSG:4326']
    req:
      url: http://afsmaps.blm.gov/wmsconnector/com.esri.wms.Esrimap/AFSFires?
      layers: wmsCurrIbandVIIRS24
      transparent: true
  osm_wms:
    type: wms
    req:
      # use of this source is only permitted for testing
      url: http://osm.omniscale.net/proxy/service?
      layers: osm
  osm_tms:
    type: tile
    url: http://b.tile.openstreetmap.fr/hot/%(z)s/%(x)s/%(y)s.png
    grid: GLOBAL_WEBMERCATOR
  alaska_osm_mapnik:
    type: mapnik
    mapfile: /usr/local/share/maps/style/alaska-mapnik.xml

grids:
    webmercator:
        base: GLOBAL_WEBMERCATOR
    epsg3338:
      srs: EPSG:3338
      bbox: [-129.9900, 51.3500, 172.4000, 71.3500]
      bbox_srs: EPSG:4326

globals:
  http:
    ssl_no_cert_checks: True
